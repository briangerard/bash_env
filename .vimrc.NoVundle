" UI preferences
abbrev gerp grep
set background=dark		" Classic CRT look
set nohlsearch			" Don't fill my screen with blocks
set ruler			" Show cursor position

" Spacing
set ai				" Autoindentation
set expandtab			" Change tabs to spaces on the fly
set shiftwidth=4		" Four spaces per autoindent step
set tabstop=4			" Four spaces per tab

" Misc
set matchpairs=(:),[:],{:},<:>	" What I can bounce on with %
set backspace=indent,eol,start

" color settings
syntax on   " Syntax Hilighting
set t_Co=256
set t_AB=[48;5;%dm
set t_AF=[38;5;%dm

" colo nightwish
" colo desert256
colo railscasts

" Perl syntax checking 'X' in command mode runs perl -c on the current
" script; 'E' afterwards jumps to the line where an error occurred and
" prints the error.
nnoremap <buffer> <silent> X :w<Enter>:!/usr/local/bin/perl -c -MVi::QuickFix %<Enter>
nnoremap <buffer> <silent> E :cf <Enter>

" Line numbers on, please.
set number
if v:version > 702
    " ...and if we can, do relative line numbering - added in v7.3
    set relativenumber
endif

" Only do this part when compiled with support for autocommands.
if has("autocmd") " dnl
 if !exists("autocommands_loaded")
  let autocommands_loaded = 1

  " Relative line numbering - added in v7.3
  if v:version > 702
    " Absolute numbers when in insert mode, relative when in command mode
    " Thanks to
    " http://jeffkreeftmeijer.com/2012/relative-line-numbers-in-vim-for-super-fast-movement/
    " for this trick.
    autocmd InsertEnter * :set relativenumber&
    autocmd InsertLeave * :set relativenumber
  endif

  " Enable file type detection.
  " Use the default filetype settings, so that mail gets 'tw' set to 72,
  " 'cindent' is on in C files, etc.
  " Also load indent files, to automatically do language-dependent indenting.
  filetype plugin indent on " dnl

  " Textwidth should be 80 in mail, not 72.
  autocmd FileType mail setlocal textwidth=72 " dnl

  " For some reason, External Editor in T-Bird occasionally loses its
  " mind and starts vim in /usr/local/lib/thunderbird.
  autocmd FileType mail chdir ${HOME}

  " Read a new signature (Mail)
  autocmd FileType mail map <c-k> dG:r ${HOME}/sig<enter>

  " For all text files set 'textwidth' to 80 characters.
  autocmd FileType text setlocal textwidth=80 " dnl

  " For perl files, make things tidy
  autocmd FileType perl setlocal expandtab shiftwidth=4 tabstop=4 textwidth=100 " dnl

  " When editing a file, always jump to the last known cursor position.
  " Don't do it when the position is invalid or when inside an event handler
  " (happens when dropping a file on gvim).
  autocmd BufReadPost * " dnl
    \ if line("'\"") > 0 && line("'\"") <= line("$") |
    \   exe "normal g`\"" |
    \ endif
  au BufNewFile,BufRead *.i set filetype=swig
  au BufNewFile,BufRead *.swg set filetype=swig 

 endif " !exists("autocommands_loaded")

endif " has("autocmd")
